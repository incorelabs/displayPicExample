<!DOCTYPE html>
<html>
    <head>
        <title>File System Example</title>

        <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
        <script type="text/javascript" src="jquery.min.js"></script>
        <script type="text/javascript" charset="utf-8">
            // Wait for Cordova to load  
            document.addEventListener("deviceready", onDeviceReady, false);  
            // Cordova is ready  
            function onDeviceReady() {  
                alert("Going to start download");  
                downloadFile();  
            }  

            function downloadFile(){  
                window.requestFileSystem(LocalFileSystem.PERSISTENT, 0,  
                    function onFileSystemSuccess(fileSystem) {
                        fileSystem.root.getFile("dummy.html", {create: true, exclusive: false},
                                function gotFileEntry(fileEntry){
                                    var sPath = fileEntry.fullPath.replace("dummy.html","");
                                    var fileTransfer = new FileTransfer();
                                    fileTransfereEntry.remove();
                                    fileTransfer.download(
                                        "http://www.incorelabs.com/clubApp/img/pic1.jpg",
                                        sPath + "pic1.jpg",  
                                        function(theFile) {  
                                            console.log("download complete: " + theFile.toURI());  
                                            showLink(theFile.toURI());  
                                        },  
                                        function(error) {  
                                            console.log("download error source " + error.source);  
                                            console.log("download error target " + error.target);  
                                            console.log("upload error code: " + error.code);  
                                        }
                                    );
                                },
                            fail
                        );
                    },
                    fail
                );
            }
            function showLink(url){  
                alert(url);  
                var divEl = document.getElementById("deviceready");  
                var aElem = document.createElement("a");  
                aElem.setAttribute("target", "_blank");  
                aElem.setAttribute("href", url);
                aElem.appendChild(document.createTextNode("Ready! Click To Open."))  
                divEl.appendChild(aElem);  
            }  
            
            function fail(evt) {  
                console.log(evt.target.error.code);  
            }
        </script>
    </head>
  <body>
    <h1>Example</h1>
    <p>File System</p>
    <div id="fileSystemName">

    </div>
    <br/>
    <div id="fileSystemRootName">

    </div>
    <div id="deviceready">

    </div>

  </body>
</html>